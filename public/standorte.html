<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://unpkg.com; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://fonts.googleapis.com https://unpkg.com; font-src 'self' https://cdn.jsdelivr.net https://fonts.gstatic.com; img-src 'self' data: https:; frame-src 'self' https://www.google.com https://maps.google.com https://*.google.com; connect-src 'self' https: https://*.tile.openstreetmap.org;">
    <title>Standorte - AutooR</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/navbar.css?v=202601071240">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 0;
            padding-top: 80px; 
            min-height: 100vh;
            color: #1a1a1a;
        }

        .main-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .page-header {
            background: transparent;
            border-radius: 0;
            padding: 0;
            margin-bottom: 2.5rem;
            box-shadow: none;
            border: none;
            text-align: center;
        }

        .page-title {
            font-size: 1.75rem;
            font-weight: 500;
            color: #1a1a1a;
            margin-bottom: 0.5rem;
            letter-spacing: 0.3px;
            line-height: 1.4;
        }

        .page-subtitle {
            color: #666666;
            font-size: 0.95rem;
            font-weight: 400;
            line-height: 1.5;
        }

        .search-section {
            background: #ffffff;
            border: 1px solid #e8e8e8;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
        }

        .search-title {
            font-size: 1rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 1rem;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.85rem;
        }

        .search-form {
            display: flex;
            gap: 0.75rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .search-input {
            flex: 1;
            padding: 0.6rem 1rem;
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #ee7600;
            box-shadow: 0 0 0 3px rgba(238, 118, 0, 0.1);
        }

        .search-btn {
            background: #7B7668;
            color: #ffffff;
            border: 1px solid #7B7668;
            padding: 0.6rem 1.5rem;
            border-radius: 8px;
            font-weight: 500;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-btn:hover {
            background: #6f6a5f;
            color: #ffffff;
            border-color: #6f6a5f;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .locations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .location-card {
            background: #ffffff;
            border: 1px solid #e8e8e8;
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
            cursor: pointer;
        }

        .location-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            border-color: #d0d0d0;
        }

        .location-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .location-icon {
            font-size: 2rem;
            color: #ee7600;
            margin-right: 1rem;
        }

        .location-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1a1a1a;
            margin: 0;
        }

        .location-address {
            color: #666666;
            margin-bottom: 1rem;
            line-height: 1.5;
            font-size: 0.9rem;
        }

        .location-details {
            margin-bottom: 1.25rem;
        }

        .detail-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.4rem;
            color: #666666;
            font-size: 0.85rem;
        }

        .detail-icon {
            color: #ee7600;
            margin-right: 0.5rem;
            width: 16px;
        }

        .location-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-primary {
            background: #7B7668;
            color: #ffffff;
            border: 1px solid #7B7668;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }

        .btn-primary:hover {
            background: #6f6a5f;
            color: #ffffff;
            border-color: #6f6a5f;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .btn-outline {
            background: #ffffff;
            color: #1a1a1a;
            border: 1px solid #e8e8e8;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }

        .btn-outline:hover {
            background: #f5f5f5;
            border-color: #d0d0d0;
            color: #1a1a1a;
        }

        .map-section {
            background: #ffffff;
            border: 1px solid #e8e8e8;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            margin-top: 2rem;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
        }

        .map-title {
            font-size: 1rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.85rem;
        }

        .map-placeholder {
            background: #f5f5f5;
            border: 2px dashed #d0d0d0;
            border-radius: 8px;
            padding: 3rem;
            color: #666666;
            font-size: 0.9rem;
        }

        .footer {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: rgba(255, 255, 255, 0.9);
            padding: 2.5rem 0;
            margin-top: 4rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            text-align: center;
        }

        .footer-link {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            margin: 0 1rem;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .footer-link:hover {
            color: #ee7600;
            background: rgba(238, 118, 0, 0.1);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 1rem;
            }
            
            .page-title {
                font-size: 1.5rem;
            }
            
            .search-section {
                padding: 1.25rem;
            }
            
            .search-form {
                flex-direction: column;
            }
            
            .locations-grid {
                grid-template-columns: 1fr;
                gap: 1.25rem;
            }
            
            .location-card {
                padding: 1.25rem;
            }
            
            .map-section {
                padding: 1.25rem;
            }
            
            .location-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div id="navbar-container"></div>
    
    <div class="main-container">
        <div class="page-header">
            <h1 class="page-title">Standorte</h1>
            <p class="page-subtitle">Finden Sie unsere Autovermietungsstandorte in Ihrer N√§he</p>
        </div>

        <div class="search-section">
            <h3 class="search-title">Standort suchen</h3>
            <form class="search-form" id="location-search-form" onsubmit="searchLocations(event)">
                <input type="text" class="search-input" id="location-search-input" placeholder="Stadt, PLZ oder Adresse eingeben..." autocomplete="off">
                <button type="submit" class="search-btn">Suchen</button>
            </form>
        </div>

        <div class="locations-grid">
            <div class="location-card" id="berlin">
                <div class="location-header">
                    <i class="bi bi-geo-alt location-icon"></i>
                    <h3 class="location-title">Berlin Zentrum</h3>
                </div>
                <div class="location-address">
                    <a href="https://www.google.com/maps/search/?api=1&query=Europaplatz+1,+10557+Berlin" target="_blank" style="color: #666666; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ee7600';" onmouseout="this.style.color='#666666';">
                        <i class="bi bi-geo-alt-fill" style="color: #ee7600; margin-right: 0.25rem;"></i>
                        Europaplatz 1<br>
                        10557 Berlin
                    </a>
                </div>
                <div class="location-details">
                    <div class="detail-item">
                        <i class="bi bi-clock detail-icon"></i>
                        <span>Mo-So: 05:30 - 23:30</span>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-telephone detail-icon"></i>
                        <a href="tel:+493012345678" style="color: #666666; text-decoration: none;">+49 30 123 456 78</a>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-car-front detail-icon"></i>
                        <span>120+ Fahrzeuge verf√ºgbar</span>
                    </div>
                </div>
                 <div class="location-actions">
                     <a href="/fahrzeuge?location=berlin" class="btn-primary">Fahrzeug mieten</a>
                     <a href="https://www.google.com/maps/dir/?api=1&destination=Europaplatz+1,+10557+Berlin" target="_blank" class="btn-outline">
                         <i class="bi bi-map"></i> Route anzeigen
                     </a>
                 </div>
             </div>

             <div class="location-card" id="hamburg">
                <div class="location-header">
                    <i class="bi bi-geo-alt location-icon"></i>
                    <h3 class="location-title">Hamburg Zentrum</h3>
                </div>
                <div class="location-address">
                    <a href="https://www.google.com/maps/search/?api=1&query=M√∂nckebergstra√üe+1,+20095+Hamburg" target="_blank" style="color: #666666; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ee7600';" onmouseout="this.style.color='#666666';">
                        <i class="bi bi-geo-alt-fill" style="color: #ee7600; margin-right: 0.25rem;"></i>
                        M√∂nckebergstra√üe 1<br>
                        20095 Hamburg
                    </a>
                </div>
                <div class="location-details">
                    <div class="detail-item">
                        <i class="bi bi-clock detail-icon"></i>
                        <span>Mo-Fr: 07:00 - 20:00, Sa: 08:00 - 18:00</span>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-telephone detail-icon"></i>
                        <span>+49 40 987 654 32</span>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-car-front detail-icon"></i>
                        <span>80+ Fahrzeuge verf√ºgbar</span>
                    </div>
                </div>
                 <div class="location-actions">
                     <a href="/fahrzeuge?location=hamburg" class="btn-primary">Fahrzeug mieten</a>
                     <a href="https://www.google.com/maps/dir/?api=1&destination=M√∂nckebergstra√üe+1,+20095+Hamburg" target="_blank" class="btn-outline">
                         <i class="bi bi-map"></i> Route anzeigen
                     </a>
                 </div>
             </div>

             <div class="location-card" id="m√ºnchen">
                <div class="location-header">
                    <i class="bi bi-geo-alt location-icon"></i>
                    <h3 class="location-title">M√ºnchen Zentrum</h3>
                </div>
                <div class="location-address">
                    <a href="https://www.google.com/maps/search/?api=1&query=Marienplatz+1,+80331+M√ºnchen" target="_blank" style="color: #666666; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ee7600';" onmouseout="this.style.color='#666666';">
                        <i class="bi bi-geo-alt-fill" style="color: #ee7600; margin-right: 0.25rem;"></i>
                        Marienplatz 1<br>
                        80331 M√ºnchen
                    </a>
                </div>
                <div class="location-details">
                    <div class="detail-item">
                        <i class="bi bi-clock detail-icon"></i>
                        <span>Mo-So: 06:00 - 23:00</span>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-telephone detail-icon"></i>
                        <a href="tel:+498997512345" style="color: #666666; text-decoration: none;">+49 89 975 123 45</a>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-car-front detail-icon"></i>
                        <span>150+ Fahrzeuge verf√ºgbar</span>
                    </div>
                </div>
                 <div class="location-actions">
                     <a href="/fahrzeuge?location=m√ºnchen" class="btn-primary">Fahrzeug mieten</a>
                     <a href="https://www.google.com/maps/dir/?api=1&destination=Marienplatz+1,+80331+M√ºnchen" target="_blank" class="btn-outline">
                         <i class="bi bi-map"></i> Route anzeigen
                     </a>
                 </div>
             </div>

             <div class="location-card" id="k√∂ln">
                <div class="location-header">
                    <i class="bi bi-geo-alt location-icon"></i>
                    <h3 class="location-title">K√∂ln Zentrum</h3>
                </div>
                <div class="location-address">
                    <a href="https://www.google.com/maps/search/?api=1&query=Domplatz+1,+50667+K√∂ln" target="_blank" style="color: #666666; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ee7600';" onmouseout="this.style.color='#666666';">
                        <i class="bi bi-geo-alt-fill" style="color: #ee7600; margin-right: 0.25rem;"></i>
                        Domplatz 1<br>
                        50667 K√∂ln
                    </a>
                </div>
                <div class="location-details">
                    <div class="detail-item">
                        <i class="bi bi-clock detail-icon"></i>
                        <span>Mo-So: 06:00 - 22:00</span>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-telephone detail-icon"></i>
                        <a href="tel:+4922177788899" style="color: #666666; text-decoration: none;">+49 221 777 888 99</a>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-car-front detail-icon"></i>
                        <span>90+ Fahrzeuge verf√ºgbar</span>
                    </div>
                </div>
                 <div class="location-actions">
                     <a href="/fahrzeuge?location=k√∂ln" class="btn-primary">Fahrzeug mieten</a>
                     <a href="https://www.google.com/maps/dir/?api=1&destination=Domplatz+1,+50667+K√∂ln" target="_blank" class="btn-outline">
                         <i class="bi bi-map"></i> Route anzeigen
                     </a>
                 </div>
             </div>

             <div class="location-card" id="frankfurt">
                <div class="location-header">
                    <i class="bi bi-geo-alt location-icon"></i>
                    <h3 class="location-title">Frankfurt am Main Zentrum</h3>
                </div>
                <div class="location-address">
                    <a href="https://www.google.com/maps/search/?api=1&query=R√∂merberg+1,+60311+Frankfurt+am+Main" target="_blank" style="color: #666666; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ee7600';" onmouseout="this.style.color='#666666';">
                        <i class="bi bi-geo-alt-fill" style="color: #ee7600; margin-right: 0.25rem;"></i>
                        R√∂merberg 1<br>
                        60311 Frankfurt am Main
                    </a>
                </div>
                <div class="location-details">
                    <div class="detail-item">
                        <i class="bi bi-clock detail-icon"></i>
                        <span>Mo-So: 06:00 - 23:00</span>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-telephone detail-icon"></i>
                        <a href="tel:+496955512345" style="color: #666666; text-decoration: none;">+49 69 555 123 45</a>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-car-front detail-icon"></i>
                        <span>200+ Fahrzeuge verf√ºgbar</span>
                    </div>
                </div>
                 <div class="location-actions">
                     <a href="/fahrzeuge?location=frankfurt" class="btn-primary">Fahrzeug mieten</a>
                     <a href="https://www.google.com/maps/dir/?api=1&destination=R√∂merberg+1,+60311+Frankfurt+am+Main" target="_blank" class="btn-outline">
                         <i class="bi bi-map"></i> Route anzeigen
                     </a>
                 </div>
             </div>

             <div class="location-card" id="stuttgart">
                <div class="location-header">
                    <i class="bi bi-geo-alt location-icon"></i>
                    <h3 class="location-title">Stuttgart Zentrum</h3>
                </div>
                <div class="location-address">
                    <a href="https://www.google.com/maps/search/?api=1&query=K√∂nigstra√üe+1,+70173+Stuttgart" target="_blank" style="color: #666666; text-decoration: none; transition: color 0.3s ease;" onmouseover="this.style.color='#ee7600';" onmouseout="this.style.color='#666666';">
                        <i class="bi bi-geo-alt-fill" style="color: #ee7600; margin-right: 0.25rem;"></i>
                        K√∂nigstra√üe 1<br>
                        70173 Stuttgart
                    </a>
                </div>
                <div class="location-details">
                    <div class="detail-item">
                        <i class="bi bi-clock detail-icon"></i>
                        <span>Mo-Fr: 07:00 - 19:00, Sa: 08:00 - 16:00</span>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-telephone detail-icon"></i>
                        <a href="tel:+4971133344455" style="color: #666666; text-decoration: none;">+49 711 333 444 55</a>
                    </div>
                    <div class="detail-item">
                        <i class="bi bi-car-front detail-icon"></i>
                        <span>70+ Fahrzeuge verf√ºgbar</span>
                    </div>
                </div>
                 <div class="location-actions">
                     <a href="/fahrzeuge?location=stuttgart" class="btn-primary">Fahrzeug mieten</a>
                     <a href="https://www.google.com/maps/dir/?api=1&destination=K√∂nigstra√üe+1,+70173+Stuttgart" target="_blank" class="btn-outline">
                         <i class="bi bi-map"></i> Route anzeigen
                     </a>
                 </div>
             </div>
         </div>

        <div class="map-section">
            <h3 class="map-title">Alle Standorte auf der Karte</h3>
            <div id="map" style="height: 500px; width: 100%; border-radius: 8px; overflow: hidden; border: 1px solid #e8e8e8; background: #f5f5f5; z-index: 1;"></div>
            <p style="text-align: center; color: #666666; margin-top: 1rem; font-size: 0.9rem;">
                <i class="bi bi-info-circle" style="color: #ee7600;"></i>
                Klicken Sie auf die Marker f√ºr Standortdetails oder nutzen Sie die Zoom-Funktion
            </p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/navbar.js?v=202601071235"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        
        const standorte = [
            {
                name: "Berlin Zentrum",
                address: "Europaplatz 1, 10557 Berlin",
                lat: 52.5256,
                lng: 13.3695,
                phone: "+49 30 123 456 78",
                vehicles: "120+ Fahrzeuge verf√ºgbar"
            },
            {
                name: "Hamburg Zentrum",
                address: "M√∂nckebergstra√üe 1, 20095 Hamburg",
                lat: 53.5511,
                lng: 9.9937,
                phone: "+49 40 987 654 32",
                vehicles: "80+ Fahrzeuge verf√ºgbar"
            },
            {
                name: "M√ºnchen Zentrum",
                address: "Marienplatz 1, 80331 M√ºnchen",
                lat: 48.1374,
                lng: 11.5755,
                phone: "+49 89 975 123 45",
                vehicles: "150+ Fahrzeuge verf√ºgbar"
            },
            {
                name: "K√∂ln Zentrum",
                address: "Domplatz 1, 50667 K√∂ln",
                lat: 50.9375,
                lng: 6.9603,
                phone: "+49 221 777 888 99",
                vehicles: "90+ Fahrzeuge verf√ºgbar"
            },
            {
                name: "Frankfurt am Main Zentrum",
                address: "R√∂merberg 1, 60311 Frankfurt am Main",
                lat: 50.1109,
                lng: 8.6821,
                phone: "+49 69 555 123 45",
                vehicles: "200+ Fahrzeuge verf√ºgbar"
            },
            {
                name: "Stuttgart Zentrum",
                address: "K√∂nigstra√üe 1, 70173 Stuttgart",
                lat: 48.7758,
                lng: 9.1829,
                phone: "+49 711 333 444 55",
                vehicles: "70+ Fahrzeuge verf√ºgbar"
            }
        ];

        function initializeMap() {
            const mapDiv = document.getElementById('map');
            if (!mapDiv) return;

            if (typeof L === 'undefined') {
                console.error('Leaflet.js y√ºklenemedi');
                mapDiv.innerHTML = '<p style="padding: 2rem; text-align: center; color: #666;">Harita y√ºkleniyor...</p>';
                return;
            }

            const avgLat = standorte.reduce((sum, s) => sum + s.lat, 0) / standorte.length;
            const avgLng = standorte.reduce((sum, s) => sum + s.lng, 0) / standorte.length;

            const map = L.map('map').setView([avgLat, avgLng], 6);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                maxZoom: 19
            }).addTo(map);

            standorte.forEach((standort, index) => {

                const customIcon = L.divIcon({
                    className: 'custom-marker',
                    html: `<div style="background-color: #ee7600; width: 30px; height: 30px; border-radius: 50% 50% 50% 0; transform: rotate(-45deg); border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3); position: relative;">
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(45deg); color: white; font-weight: bold; font-size: 14px;">${index + 1}</div>
                    </div>`,
                    iconSize: [30, 30],
                    iconAnchor: [15, 30],
                    popupAnchor: [0, -30]
                });

                const marker = L.marker([standort.lat, standort.lng], { icon: customIcon }).addTo(map);

                const popupContent = `
                    <div style="min-width: 200px; font-family: 'Inter', sans-serif;">
                        <h3 style="margin: 0 0 0.5rem 0; color: #1a1a1a; font-size: 1.1rem; font-weight: 600;">${standort.name}</h3>
                        <p style="margin: 0.25rem 0; color: #666; font-size: 0.9rem;">
                            <i class="bi bi-geo-alt-fill" style="color: #ee7600;"></i> ${standort.address}
                        </p>
                        <p style="margin: 0.25rem 0; color: #666; font-size: 0.9rem;">
                            <i class="bi bi-telephone-fill" style="color: #ee7600;"></i> <a href="tel:${standort.phone}" style="color: #ee7600; text-decoration: none;">${standort.phone}</a>
                        </p>
                        <p style="margin: 0.5rem 0 0 0; color: #666; font-size: 0.85rem; font-weight: 500;">${standort.vehicles}</p>
                        <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(standort.address)}" 
                           target="_blank" 
                           style="display: inline-block; margin-top: 0.5rem; padding: 0.4rem 0.8rem; background: #ee7600; color: white; text-decoration: none; border-radius: 6px; font-size: 0.85rem; font-weight: 500;">
                            <i class="bi bi-arrow-right"></i> Route anzeigen
                        </a>
                    </div>
                `;
                
                marker.bindPopup(popupContent);
            });
        }

        function showLocationOnMap(locationId) {
            const locationMap = {
                'berlin': 0,
                'hamburg': 1,
                'm√ºnchen': 2,
                'k√∂ln': 3,
                'frankfurt': 4,
                'stuttgart': 5
            };
            
            const index = locationMap[locationId];
            if (index !== undefined && standorte[index]) {
                const standort = standorte[index];

                document.querySelector('.map-section').scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'center'
                });

                setTimeout(() => {
                    const mapDiv = document.getElementById('map');

                    const encodedAddress = encodeURIComponent(standort.address);
                    mapDiv.innerHTML = `
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2428.1234567890123!2d${standort.lng}!3d${standort.lat}!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2z${Math.floor(standort.lat)}!5e0!3m2!1sde!2sde!4v1234567890123!5m2!1sde!2sde&q=${encodedAddress}" 
                            width="100%" 
                            height="500" 
                            style="border:0; border-radius: 8px;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                        <div style="text-align: center; margin-top: 1rem; padding: 1rem; background: #f5f5f5; border-radius: 8px;">
                            <h4 style="color: #1a1a1a; margin-bottom: 0.5rem; font-size: 1rem; font-weight: 600;">${standort.name}</h4>
                            <p style="margin-bottom: 0.25rem; font-size: 0.9rem; color: #666666;">${standort.address}</p>
                            <p style="margin-bottom: 0.25rem; font-size: 0.85rem; color: #ee7600;">üìû ${standort.phone}</p>
                            <p style="margin-bottom: 0.5rem; font-size: 0.85rem; color: #ee7600;">üöó ${standort.vehicles}</p>
                            <button onclick="initializeMap()" 
                                    style="background: #ffffff; color: #1a1a1a; border: 1px solid #e8e8e8; padding: 0.5rem 1rem; border-radius: 8px; font-weight: 500; font-size: 0.85rem; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.background='#f5f5f5';" onmouseout="this.style.background='#ffffff';">
                                <i class="bi bi-arrow-left"></i> Alle Standorte anzeigen
                            </button>
                        </div>
                    `;
                }, 500);
            }
        }

        function scrollToLocation(locationId) {
            const element = document.getElementById(locationId);
            if (element) {
                element.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'center'
                });

                element.style.border = '2px solid #ee7600';
                element.style.boxShadow = '0 4px 12px rgba(238, 118, 0, 0.3)';

                setTimeout(() => {
                    element.style.border = '1px solid #e8e8e8';
                    element.style.boxShadow = '0 2px 12px rgba(0,0,0,0.06)';
                }, 3000);
            }
        }

        function searchLocations(event) {
            event.preventDefault();
            const searchInput = document.getElementById('location-search-input');
            const searchTerm = searchInput.value.toLowerCase().trim();
            
            if (!searchTerm) {

                document.querySelectorAll('.location-card').forEach(card => {
                    card.style.display = 'block';
                });
                return;
            }

            document.querySelectorAll('.location-card').forEach(card => {
                const title = card.querySelector('.location-title').textContent.toLowerCase();
                const address = card.querySelector('.location-address').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || address.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                if (typeof createNavbar === 'function') {
                    createNavbar();
                }
                if (typeof updateNavbar === 'function') {
                    updateNavbar();
                }
            }, 100);

            initializeMap();

            document.querySelectorAll('.location-card').forEach(card => {
                card.addEventListener('click', function(e) {

                    if (e.target.closest('.location-actions')) {
                        return;
                    }
                    
                    const locationId = card.id;
                    const locationMap = {
                        'berlin': 'Europaplatz+1,+10557+Berlin',
                        'hamburg': 'M√∂nckebergstra√üe+1,+20095+Hamburg',
                        'm√ºnchen': 'Marienplatz+1,+80331+M√ºnchen',
                        'k√∂ln': 'Domplatz+1,+50667+K√∂ln',
                        'frankfurt': 'R√∂merberg+1,+60311+Frankfurt+am+Main',
                        'stuttgart': 'K√∂nigstra√üe+1,+70173+Stuttgart'
                    };
                    
                    const address = locationMap[locationId];
                    if (address) {
                        window.open(`https://www.google.com/maps/search/?api=1&query=${address}`, '_blank');
                    }
                });
            });
        });
    </script>
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p class="mb-3">¬© 2025 <span style="color: #ffffff;">Aut</span><span style="color: ##F84D58;">oo</span><span style="color: #ffffff;">R</span>. Alle Rechte vorbehalten.</p>
                <div>
                    <a href="#" class="footer-link">Datenschutz</a>
                    <a href="#" class="footer-link">AGB</a>
                    <a href="#" class="footer-link">Impressum</a>
                    <a href="#" class="footer-link">Kontakt</a>
                </div>
                <p class="mt-3 mb-0" style="font-size: 0.75rem; color: rgba(255, 255, 255, 0.6); text-align: center;">
                </p>
            </div>
        </div>
    </footer>
    <script src="/js/back-to-top.js"></script>
</body>
</html>